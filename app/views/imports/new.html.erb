<h1 class="mb-4">データインポート</h1>

<%= turbo_frame_tag "import_summary" do %>
  <%= render "summary", summary: @summary %>
<% end %>

<section class="import-form">
  <h2>stories.xlsx をアップロード</h2>
  <p>既存データは新しいファイルで置き換えられます。Pivotal Tracker からエクスポートした stories.xlsx を選択してください。</p>

  <%= form_with url: import_path, method: :post, multipart: true, local: true, data: { turbo: false }, class: "upload-form" do |f| %>
    <div class="upload-field">
      <%= f.label :file, "インポートファイル" %>
      <%= f.file_field :file, accept: ".xlsx" %>
    </div>
    <div class="upload-actions">
      <%= f.submit "インポート実行", class: "stories-filter-submit" %>
    </div>
  <% end %>
</section>

<section class="import-danger">
  <h2>データ削除</h2>
  <p>すべてのストーリーおよび関連データを削除し、空の状態に戻します。</p>
  <%= button_to "全データを削除", import_path, method: :delete, data: { turbo_confirm: "本当に削除しますか？" }, class: "danger-button" %>
</section>
