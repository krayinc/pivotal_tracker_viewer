<h1 class="mb-4"><%= t("imports.new.title") %></h1>

<%= turbo_frame_tag "import_summary" do %>
  <%= render "summary", summary: @summary %>
<% end %>

<section class="import-form">
  <h2><%= t("imports.new.upload_heading") %></h2>
  <p><%= t("imports.new.upload_description") %></p>

  <%= form_with scope: :import, url: import_path, method: :post, multipart: true, data: { turbo_stream: true }, class: "upload-form" do |f| %>
    <div class="upload-field">
      <%= f.label :file, t("imports.new.file_label") %>
      <%= f.file_field :file, accept: ".xlsx" %>
    </div>
    <div class="upload-actions">
      <%= f.submit t("imports.new.submit"), class: "stories-filter-submit" %>
    </div>
  <% end %>
</section>

<section class="import-danger">
  <h2><%= t("imports.new.danger_heading") %></h2>
  <p><%= t("imports.new.danger_description") %></p>
  <%= button_to t("imports.new.destroy_button"), import_path,
                method: :delete,
                data: { turbo_confirm: t("imports.confirm.destroy") },
                class: "danger-button" %>
</section>

<div class="mt-4">
  <%= link_to t("common.back_to_stories"), stories_path, class: "epics-back-link" %>
</div>
